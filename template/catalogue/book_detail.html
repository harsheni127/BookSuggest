{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="detail-box">
  <h1 style="margin-top:0">{{ book.title }}</h1>

  <p class="meta"><strong>{{ book.author }}</strong> â€¢ Rating: {{ book.rating|default:"-" }}</p>

  <p style="margin-top:8px;">{{ book.description }}</p>

  <p><strong>Genres:</strong>
    {% for g in book.genres.all %}{{ g.name }}{% if not forloop.last %}, {% endif %}{% endfor %}
  </p>

  <div style="margin-top:14px;display:flex;gap:8px;">
    <a class="btn-brown" href="{% url 'catalog:book_list' %}">Back</a>
    {% if user.is_authenticated %}
      <a class="btn-outline" href="{% url 'catalog:book_edit' book.id %}">Edit</a>
      <form method="post" action="{% url 'catalog:book_delete' book.id %}" style="display:inline;">
        {% csrf_token %}
        <button class="btn-brown" type="submit">Delete</button>
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}

